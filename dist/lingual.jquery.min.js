// Lingual.js v1.1.0
(function(a,b,c){"use strict";var d=d||function(a,b){var d,e,f,g,h,i=this;d={lang:"",pathDelimiter:".",selectorKey:"translate"},e={strings:{}},f={parsePath:function(a,b){if(!b)return!1;var c,e=b.split(d.pathDelimiter);for(c=0;c<e.length;c++){var f=e[c];if("undefined"==typeof a[f])return!1;a=a[f]}return a},initLanguage:function(){f.setLang(e.html.attr("lang")||navigator.language.split("-")[0]||"en")},setLang:function(a){e.html.attr("lang",a),d.lang=a},setStrings:function(a){e.strings=a},injectVars:function(a,b){b=b||{};var c;for(c in b)a=a.replace(":"+c,b[c]);return a}},g={translate:function(a){var b=d.selectorKey,g=c("[data-"+b+"]",a);g.each(function(){var a=c(this),g=a.attr("data-"+b);if(g){var h=f.parsePath(e.strings[d.lang],g);if(h){var i=a.attr("data-vars");i&&(h=f.injectVars(h,JSON.parse(i)));var j=a.attr("data-"+b+"-target");j?"text"==j?a.text(h):a.attr(j,h):a.html(h)}}})}},h={pre:function(a){d=c.extend(d,a),e.html=c("html"),f.initLanguage()},post:function(a){f.setStrings(a),g.translate()}},i.locale=function(a){"undefined"!=typeof e.strings[a]&&(d.lang=a)},i.translate=function(a){g.translate(a)},i.gettext=function(a,b){return f.injectVars(f.parsePath(e.strings[d.lang],a),b)},h.pre(b),"string"==typeof a?(a=a.replace("%LANG%",d.lang),c.getJSON(a,function(a){if("undefined"==typeof a[d.lang]){var b={};b[d.lang]=a,a=b}h.post(a)})):h.post(a)};this.Lingual=d}).call(this,window,document,jQuery);