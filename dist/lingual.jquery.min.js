// Lingual.js v1.1.0
(function(a,b,c){"use strict";var d=d||function(a,b){var d,e,f,g,h,i=this;d={lang:"",pathDelimiter:".",selectorKey:"translate"},e={strings:{}},f={parsePath:function(a,b){if(!b)return!1;var c,e=b.split(d.pathDelimiter);for(c=0;c<e.length;c++){var f=e[c];if("undefined"==typeof a[f])return!1;a=a[f]}return a},initLanguage:function(){f.setLang(e.html.attr("lang")||navigator.language.split("-")[0]||"en")},setLang:function(a){e.html.attr("lang",a),d.lang=a},setStrings:function(a){e.strings=a},injectVars:function(a,b){b=b||{};var c;for(c in b)a=a.replace(":"+c,b[c]);return a}},g={translate:function(){var a=d.selectorKey,b=c("[data-"+a+"]");b.each(function(){var b=c(this),g=b.attr("data-"+a);if(g){var h=f.parsePath(e.strings[d.lang],g);if(h){var i=b.attr("data-vars");i&&(h=f.injectVars(h,JSON.parse(i)));var j=b.attr("data-"+a+"-target");j?"text"==j?b.text(h):b.attr(j,h):b.html(h)}}})}},h={pre:function(a){d=c.extend(d,a),e.html=c("html"),f.initLanguage()},post:function(a){f.setStrings(a),g.translate()}},i.locale=function(a){"undefined"!=typeof e.strings[a]&&(d.lang=a)},i.translate=function(){g.translate()},i.gettext=function(a,b){return f.injectVars(f.parsePath(e.strings[d.lang],a),b)},h.pre(b),"string"==typeof a?(a=a.replace("%LANG%",d.lang),c.getJSON(a,function(b){if(a=JSON.parse(b),"undefined"==typeof a[d.lang]){var c={};c[d.lang]=a,a=c}h.post(a)})):h.post(a)};this.Lingual=d}).call(this,window,document,jQuery);