// Lingual.js v1.2.0
(function(a,b){"use strict";var c="Lingual",d=d||function(c,d){var e,f,g,h,i=this;i.defaults={lang:"",pathDelimiter:".",selectorKey:"translate",fixFloats:!0,debug:!0},e={strings:{}},f={log:function(a){i.defaults.debug&&console.log(a)},parsePath:function(a,b){if(!b)return!1;var c,d=b.split(i.defaults.pathDelimiter);for(c=0;c<d.length;c++){var e=d[c];if("undefined"==typeof a[e])return!1;a=a[e]}return a},initLanguage:function(){f.setLang(e.html.attr("lang")||navigator.language.split("-")[0]||"en")},setLang:function(a){e.html.attr("lang",a),i.defaults.lang=a},setStrings:function(a){e.strings=a},injectVars:function(a,b){b=b||{};var c;for(c in b)b.hasOwnProperty(c)&&(a=a.replace(":"+c,b[c]));return a}},g={translate:function(c){var d=i.defaults.selectorKey,g="data-"+d,h=b("["+g+"]",c);h.each(function(){var a=b(this),c=a.attr(g);if(c){var d=c.split(":"),h=d.length>1?d[0]:!1,j=h?d[1]:d[0];if(!j||h==g)return;j=j.trim();var k=f.parsePath(e.strings[i.defaults.lang],j);if(k){var l=a.attr("data-vars");if(l)try{l=JSON.parse(l),k=f.injectVars(k,l)}catch(m){i.defaults.debug&&f.log("Invalid JSON: "+l)}h===!1||"html"==h?a.html(k):"text"==h?a.text(k):a.attr(h,k),i.defaults.fixFloats&&(a.css("display",a.css("display")),setTimeout(function(){a.css("display","")},1))}}}),(c||b(a)).trigger("translated")}},h={pre:function(a){i.defaults=b.extend(i.defaults,a),e.html=b("html"),f.initLanguage()},post:function(a){f.setStrings(a),g.translate()}},i.locale=function(a){"undefined"!=typeof e.strings[a]&&(i.defaults.lang=a)},i.translate=function(a){g.translate(a)},i.gettext=function(a,b){return f.injectVars(f.parsePath(e.strings[i.defaults.lang],a),b)},h.pre(d),"string"==typeof c?(c=c.replace("%LANG%",i.defaults.lang),b.getJSON(c,function(a){if("undefined"==typeof a[i.defaults.lang]){var b={};b[i.defaults.lang]=a,a=b}h.post(a)})):h.post(c)};this[c]=d}).call(this,document,jQuery);