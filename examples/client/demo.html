<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <title data-translate="test.deep.title"></title>
        <style type="text/css">
            body{padding-top: 50px;}
            .unit.text-right{border-right: 1px solid #eee;}
        </style>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div class="unit half text-right">
                    <h3 class="m-bottom-more">Controls</h3>
                    <div id="options">
                        <div class="form-group">
                            <label for="name">Name: </label>
                            <input type="text" id="name" value="Maker">
                        </div>
                        <div class="form-group">
                            <label for="locale">Locale: </label>
                            <select id="locale">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="de">German</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <input type="button" id="add" value="Add dynamic HTML" class="btn">
                        </div>

                    </div>
                </div>

                <div class="unit half">
                    <h3 class="m-bottom-more">Translated</h3>
                    <div id="translations">
                        <div data-translate="test.deep.welcome" class="m-top-more m-bottom-more"></div>
                        <div class="form-group">
                            <input type="button" data-translate="value: test.deep.welcome" class="btn">
                        </div>
                        <div class="form-group">
                            <button data-translate="text: test.deep.welcome" class="btn"></button>
                        </div>
                        <div class="form-group">
                            <input type="text" data-translate="placeholder: test.deep.welcome">
                        </div>
                        <a href="#" data-translate="text: test.deep.welcome" class="btn pull-right"></a>
                        <div id="append"></div>
                    </div>
                    <span data-translate="test.deep.welcome" style="display: none"></span>
                </div>
            </div>
        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="../../dist/lingual.min.js"></script>
        <script>
            $(document).ready(function(){

                window.translator = new Lingual('locales/locales.json');

                $(document).on('click', '#add', function(){
                    $('#append').append( $('<div class="margin"><span class="highlight" data-translate="test.deep.dynamic" data-vars=\''+( JSON.stringify({name: $('#name').val() }) )+'\'></span></div>') );
                    translator.translate( $('#append div:last') );
                });

                $(document).on('change', '#locale', function(){
                    translator.locale(this.value);
                    translator.translate();
                });

            });
        </script>
    </body>
</html>
